const form=document.querySelector("#form"),inn=form.querySelector(".inn"),innError=form.querySelector("#inn-error"),checkbox=form.querySelector(".form__checkbox-indicator"),residence=form.querySelector(".residence"),radioResidence=Array.from(form.querySelectorAll(".form__radio-residence .form__radio-indicator")),residenceError=form.querySelector("#residenceError"),radioPublic=Array.from(form.querySelectorAll(".public .form__radio-indicator")),formButton=form.querySelector(".form__continue-btn"),formMomey=form.querySelector(".form__money"),moneyError=form.querySelector("#moneyError"),residenceInvalid=form.querySelector("#residence-error"),yesNoError=form.querySelector(".form__yes-no-error"),yesNoError2=form.querySelector(".form__yes-no-error-2"),LENGTH=12,MAX_LENGTH=12,innValidity=()=>{innError.style.display="none",12!==inn.value.length?inn.setCustomValidity("Значение поля ИНН должно быть равно 12 символам"):inn.validity.valueMissing?checkbox.checked||inn.setCustomValidity("Поле обязательно для заполнения"):inn.setCustomValidity(""),inn.reportValidity()};inn.addEventListener("input",innValidity);const checkboxClickHandler=()=>{checkbox.checked?(inn.value="",inn.setAttribute("disabled","disabled"),inn.removeEventListener("input",innValidity),innError.style.display="none"):(inn.removeAttribute("disabled"),inn.addEventListener("input",innValidity))};checkbox.addEventListener("change",checkboxClickHandler);const innDisabled=()=>{inn.value="",inn.setAttribute("disabled","disabled"),inn.removeEventListener("input",innValidity),checkbox.removeEventListener("change",checkboxClickHandler),checkbox.setAttribute("disabled","disabled"),residenceInvalid.style.display="inline"},innEnabled=()=>{checkbox.checked||(inn.removeAttribute("disabled"),inn.addEventListener("input",innValidity)),checkbox.addEventListener("change",checkboxClickHandler),checkbox.removeAttribute("disabled"),residenceInvalid.style.display="none"};radioResidence.forEach((e=>{e.addEventListener("click",(e=>{"yes"===e.target.dataset.id?(innDisabled(),residence.value="USA",yesNoError.style.display="none",residenceError.style.display="none",innError.style.display="none"):(innEnabled(),"USA"===residence.value&&(residence.value=""),yesNoError.style.display="none")}))})),radioPublic.forEach((e=>{e.addEventListener("click",(e=>{"yes"!==e.target.dataset.id&&"no"!==e.target.dataset.id||(yesNoError2.style.display="none")}))}));const isRadioResidenceValid=()=>{let e=!1;return radioResidence.forEach((n=>{n.checked&&(e=!0,yesNoError.style.display="none")})),e||(yesNoError.style.display="inline"),e},isRadioPublicValid=()=>{let e=!1;return radioPublic.forEach((n=>{n.checked&&(e=!0)})),e||(yesNoError2.style.display="inline"),e},isInnValid=()=>{checkbox.checked?inn.setCustomValidity(""):""===inn.value?(innError.textContent="Поле обязательно для заполнения",innError.style.display="inline"):(inn.value<1e11||inn.value>999999999999)&&(innError.textContent="ИНН должен состоять из 12 символов",innError.style.display="inline")},isResidenceValid=()=>{""===residence.value?residenceError.style.display="inline":residenceError.style.display="none"},isMoneyValid=()=>{""===formMomey.value?moneyError.style.display="inline":moneyError.style.display="none"};residence.addEventListener("change",(e=>{residenceError.style.display="none","USA"===e.target.value?(innDisabled(),radioResidence.forEach((e=>"yes"===e.dataset.id?e.checked=!0:e.checked=!1))):(innEnabled(),radioResidence.forEach((e=>e.checked=!1)))})),formMomey.addEventListener("change",(()=>{moneyError.style.display="none"})),formButton.addEventListener("click",(e=>{e.preventDefault(),checkbox.checked?inn.setCustomValidity(""):""===inn.value?(innError.textContent="Поле обязательно для заполнения",innError.style.display="inline"):(inn.value<1e11||inn.value>999999999999)&&(innError.textContent="ИНН должен состоять из 12 символов",innError.style.display="inline");const n=isRadioResidenceValid(),r=isRadioPublicValid();""===residence.value?residenceError.style.display="inline":residenceError.style.display="none",""===formMomey.value?moneyError.style.display="inline":moneyError.style.display="none",!1!==inn.validity.valid&&!1!==n&&!1!==r&&form.submit()}));
//# sourceMappingURL=main.js.map
