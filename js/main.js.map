{"version":3,"sources":["main.js"],"names":["form","document","querySelector","inn","innError","checkbox","residence","radioResidence","Array","from","querySelectorAll","residenceError","radioPublic","formButton","formMomey","moneyError","residenceInvalid","yesNoError","yesNoError2","LENGTH","MAX_LENGTH","innValidity","style","display","value","length","setCustomValidity","validity","valueMissing","checked","reportValidity","addEventListener","checkboxClickHandler","setAttribute","removeEventListener","removeAttribute","innDisabled","innEnabled","forEach","item","evt","target","dataset","id","isRadioResidenceValid","isValid","isRadioPublicValid","isInnValid","textContent","isResidenceValid","isMoneyValid","preventDefault","isResidence","isPublic","valid","submit"],"mappings":"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","file":"main.js","sourcesContent":["'use stirct';\r\n\r\nconst form = document.querySelector('#form');\r\nconst inn = form.querySelector('.inn');\r\nconst innError = form.querySelector('#inn-error');\r\nconst checkbox = form.querySelector('.form__checkbox-indicator');\r\nconst residence = form.querySelector('.residence');\r\nconst radioResidence = Array.from(form.querySelectorAll('.form__radio-residence .form__radio-indicator'));\r\nconst residenceError = form.querySelector('#residenceError');\r\nconst radioPublic = Array.from(form.querySelectorAll('.public .form__radio-indicator'));\r\nconst formButton = form.querySelector('.form__continue-btn');\r\nconst formMomey = form.querySelector('.form__money');\r\nconst moneyError = form.querySelector('#moneyError');\r\nconst residenceInvalid = form.querySelector('#residence-error');\r\nconst yesNoError = form.querySelector('.form__yes-no-error');\r\nconst yesNoError2 = form.querySelector('.form__yes-no-error-2');\r\n\r\nconst LENGTH = 12;\r\nconst MAX_LENGTH = 12;\r\n\r\nconst innValidity = () => {\r\n  innError.style.display='none';\r\n  if (inn.value.length !== LENGTH) {\r\n    inn.setCustomValidity(`Значение поля ИНН должно быть равно ${LENGTH} символам`);\r\n  } else if (inn.validity.valueMissing) {\r\n    if (!checkbox.checked) {\r\n      inn.setCustomValidity('Поле обязательно для заполнения');\r\n    }\r\n  } else {\r\n    inn.setCustomValidity('');\r\n  }\r\n\r\n  inn.reportValidity();\r\n}\r\n\r\ninn.addEventListener('input', innValidity);\r\n\r\nconst checkboxClickHandler = () => {\r\n  if (checkbox.checked) {\r\n    inn.value = '';\r\n    inn.setAttribute('disabled', 'disabled');\r\n    inn.removeEventListener('input', innValidity);\r\n    innError.style.display='none';\r\n  } else {\r\n    inn.removeAttribute('disabled');\r\n    inn.addEventListener('input', innValidity);\r\n  }\r\n};\r\n\r\ncheckbox.addEventListener('change', checkboxClickHandler);\r\n\r\nconst innDisabled = () => {\r\n  inn.value = '';\r\n  inn.setAttribute('disabled', 'disabled');\r\n  inn.removeEventListener('input', innValidity);\r\n  checkbox.removeEventListener('change', checkboxClickHandler);\r\n  checkbox.setAttribute('disabled', 'disabled');\r\n  residenceInvalid.style.display='inline';\r\n}\r\n\r\nconst innEnabled = () => {\r\n  if (!checkbox.checked) {\r\n    inn.removeAttribute('disabled');\r\n    inn.addEventListener('input', innValidity);\r\n  }\r\n  checkbox.addEventListener('change', checkboxClickHandler);\r\n  checkbox.removeAttribute('disabled');\r\n  residenceInvalid.style.display='none';\r\n}\r\n\r\nradioResidence.forEach((item) => {\r\n  item.addEventListener('click', (evt) => {\r\n    if (evt.target.dataset.id === 'yes') {\r\n      innDisabled();\r\n      residence.value = 'USA';\r\n      yesNoError.style.display=\"none\";\r\n      residenceError.style.display=\"none\";\r\n      innError.style.display='none';\r\n    } else {\r\n      innEnabled();\r\n      if (residence.value === 'USA') {\r\n        residence.value = '';\r\n      }\r\n      yesNoError.style.display=\"none\";\r\n    }\r\n  });\r\n});\r\n\r\nradioPublic.forEach((item) => {\r\n  item.addEventListener('click', (evt) => {\r\n    if (evt.target.dataset.id === 'yes' || evt.target.dataset.id === 'no') {\r\n      yesNoError2.style.display=\"none\";\r\n    }\r\n  });\r\n});\r\n\r\nconst isRadioResidenceValid = () => {\r\n  let isValid = false;\r\n  radioResidence.forEach((item) => {\r\n    if (item.checked) {\r\n      isValid = true;\r\n      yesNoError.style.display=\"none\";\r\n    }\r\n  });\r\n  if (!isValid) {\r\n    yesNoError.style.display=\"inline\";\r\n  }\r\n  return isValid\r\n}\r\n\r\nconst isRadioPublicValid = () => {\r\n  let isValid = false;\r\n  radioPublic.forEach((item) => {\r\n    if (item.checked) {\r\n      isValid = true;\r\n    }\r\n  });\r\n  if (!isValid) {\r\n    yesNoError2.style.display=\"inline\";\r\n  }\r\n  return isValid\r\n}\r\n\r\nconst isInnValid = () => {\r\n  if (checkbox.checked) {\r\n    inn.setCustomValidity('');\r\n    return;\r\n  }\r\n  if (inn.value === '') {\r\n    innError.textContent = `Поле обязательно для заполнения`\r\n    innError.style.display='inline';\r\n  } else if (inn.value < 100000000000 || inn.value > 999999999999) {\r\n    innError.textContent = `ИНН должен состоять из 12 символов`\r\n    innError.style.display='inline';\r\n  }\r\n}\r\n\r\nconst isResidenceValid = () => {\r\n  if (residence.value === '') {\r\n    residenceError.style.display=\"inline\";\r\n  } else {\r\n    residenceError.style.display=\"none\";\r\n  }\r\n};\r\n\r\nconst isMoneyValid = () => {\r\n  if (formMomey.value === '') {\r\n    moneyError.style.display=\"inline\";\r\n  } else {\r\n    moneyError.style.display=\"none\";\r\n  }\r\n};\r\n\r\nresidence.addEventListener('change', (evt) => {\r\n  residenceError.style.display=\"none\";\r\n\r\n  if (evt.target.value === 'USA') {\r\n    innDisabled();\r\n    radioResidence.forEach((item) => item.dataset.id === 'yes'? item.checked = true : item.checked = false);\r\n  } else {\r\n    innEnabled();\r\n    radioResidence.forEach((item) => item.checked = false);\r\n  }\r\n});\r\n\r\nformMomey.addEventListener('change', () => {\r\n  moneyError.style.display=\"none\";\r\n});\r\n\r\nformButton.addEventListener('click', (evt) => {\r\n  evt.preventDefault();\r\n\r\n  isInnValid();\r\n\r\n  const isResidence = isRadioResidenceValid();\r\n  const isPublic = isRadioPublicValid();\r\n\r\n  isResidenceValid();\r\n\r\n  isMoneyValid();\r\n\r\n  if (inn.validity.valid === false || isResidence === false || isPublic === false) {\r\n    return\r\n  }\r\n\r\n  form.submit();\r\n});\r\n"]}